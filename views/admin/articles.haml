-content_for :title do
  Bloodhound: Articles

-content_for :jumbotron do
  %div{class:"jumbotron jumbotron-fluid alert-warning"}
    %div{class: "container-fluid"}
      %h2 Articles

%p{class:"text-right"}
  %a{href: "https://www.gbif.org/resource/search?contentType=literature&relevance=GBIF_USED"}
    View latest
  listing on GBIF

- if @results.empty?
  %div{class: "alert alert-info", role: "alert", style:"margin-left:0.1em;margin-right:0.1em"}
    Articles have not yet been recorded.
-else
  %div{class:"citation-wrapper"}
    - @results.each do |article|
      %div{class: "card"}
        %div{class: "card-header"}
          %p{class: "citation card-title"}
            %a{href: "https://doi.org/#{article.doi}"} #{article.citation}
        %div{class: "card-body"}
          %dl{class: "row"}
            %dt{class: "col-sm-2"} Identifier:
            %dd{class: "col-sm-10"} #{article.id}
            %dt{class: "col-sm-2"} Created:
            %dd{class: "col-sm-10"} #{article.created}
            %dt{class: "col-sm-2"} Processed:
            %dd{class: "col-sm-10"} #{article.processed}
            %dt{class: "col-sm-2"} Abstract:
            %dd{class: "col-sm-10"} #{article.abstract}
            %dt{class: "col-sm-2"} Specimens used:
            %dd{class: "col-sm-10"}
              %span{class: "badge badge-success badge-pill citation-correction"} #{number_with_delimiter(article.article_occurrences.count)}
            %dt{class: "col-sm-2"} Specimens claimed:
            %dd{class: "col-sm-10"}
              %span{class: "badge badge-success badge-pill citation-correction"} #{number_with_delimiter(article.claimed_specimen_count)}
            %dt{class: "col-sm-2"} All data in study:
            %dd{class: "col-sm-10"}
              - article.gbif_dois.each do |doi|
                %a{href: "https://doi.org/#{doi}", class: "badge badge-light citation-correction"} #{doi}

  = will_paginate @results, { class: "pagination" }