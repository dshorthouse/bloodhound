%div{class:"jumbotron jumbotron-fluid alert-warning-light"}

  %div{class:"row"}
    %div{class:"col"}
      - if @viewed_user.image_url
        %div{id:"profile-image", class:"mx-auto d-block align-self-center align-items-center"}
          %img{src:"#{profile_image(@viewed_user)}", class:"rounded mx-auto d-block", alt:"#{@viewed_user.fullname}"}
      - if @viewed_user.signature_url
        %div{id:"signature-image", class:"mx-auto d-block align-self-center align-items-center"}
          %img{src:"#{signature_image(@viewed_user)}", class:"mx-auto d-block img-fluid", itemprop:"image", alt:"#{@viewed_user.fullname} signature"}

    %div{class:"col-12 col-md-6"}

      %h2{class:"display-4 text-center"}= @viewed_user.fullname

      - if !@viewed_user.other_names.blank?
        %div{class:"text-center text-muted"} #{@viewed_user.other_names.split("|").first(5).  join("; ")}

      - if @viewed_user.date_born || @viewed_user.date_died
        %div{class: "text-center text-muted"}
          = format_lifespan(@viewed_user)

      - org = @viewed_user.current_organization
      - if !org.nil?
        %div{class: "text-center"}
          = succeed "," do
            %i{class:"fas fa-building"}
            %a{href: "/organization/#{org.identifier}"} #{org.name}
          #{org.address}

      - if !@viewed_user.country.blank?
        %div{class: "text-center"}
          %i{class:"fas fa-globe"}
          #{@viewed_user.country.split("|").join(", ")}

      %div{class: "orcid text-center"}
        - if @viewed_user.orcid
          %a{href: "https://orcid.org/#{@viewed_user.orcid}"}
            %img{src: "/images/orcid_24x24.png", alt:"ORCID iD"}
          %a{href: "https://orcid.org/#{@viewed_user.orcid}"} https://orcid.org/#{@viewed_user.orcid}
        - else
          %a{href: "https://www.wikidata.org/wiki/#{@viewed_user.wikidata}"}
            %img{src: "/images/wikidata_24x24.png", alt:"Wikidata iD"}
            %a{href: "https://www.wikidata.org/wiki/#{@viewed_user.wikidata}"} https://www.wikidata.org/wiki/#{@viewed_user.wikidata}

      - if !@viewed_user.keywords.blank?
        %div{class: "text-center text-muted font-italic"}
          #{@viewed_user.keywords.split("|").join(", ")}

      - if authorized? && !@viewed_user.is_public? && !@viewed_user.wikidata.nil?
        %div{class:"modal fade text-left", id:"helperPublicModal", tabindex:"-1", role:"dialog", "aria-labelledby":"helperPublicModal", "aria-hidden":"true"}
          %div{class:"modal-dialog", role:"document"}
            %div{class:"modal-content"}
              %div{class:"modal-header"}
                %h5{class:"modal-title", id:"helperPublicLabel"}
                  %i{class:"fas fa-unlock"}
                  Make Profile Public
                %button{type:"button", class:"close", "data-dismiss":"modal", "aria-label":"Close"}
                  %span{"aria-hidden":"true"} &times;
              %div{class:"modal-body"}
                %p
                  Would you like to make #{@viewed_user.fullname}'s profile publicly available? An automated Tweet from
                  %a{href:"https://twitter.com/BloodhoundTrack", target:"_blank"} @BloodhoundTrack
                  will be sent announcing the new profile.
                %p{id:"helpers-list", style:"display:none;"}
                  Other trainers have also helped claim #{@viewed_user.fullname}'s specimens:
                  %br
                  %br
                %p{id:"helpers-list-none", style:"display:none;"}
                  No other trainers have helped claim #{@viewed_user.fullname}'s specimens.
                
              %div{class:"modal-footer"}
                %form{action: "/help-others/#{@viewed_user.identifier}/visibility", method: :post}
                  %button{type:"button", class:"btn btn-sm btn-outline-secondary", "data-dismiss":"modal"} Not yet
                  %input{type: :hidden, name: "_method", value: 'PUT'}
                  %input{type: :submit, class:"btn btn-sm btn-outline-success", value:"Yes, Make Public"}
          
      - if authorized?
        %div{class: "text-center"}
          - if @viewed_user.is_public?
            %a{href: "/#{@viewed_user.identifier}", class: "mr-2"}
              %i{class:"fas fa-user"}
              Public Profile
          - if !@viewed_user.is_public? && !@viewed_user.wikidata.nil?
            %button{type: "button", class:"btn btn-sm btn-outline-success", "data-toggle": "modal", "data-target": "#helperPublicModal"}
              %i{class:"fas fa-unlock"}
              Make Profile Public
      
          - if admin_authorized?
            %a{href: "/admin/user/#{@viewed_user.identifier}/settings"}
              %i{class:"fas fa-cog"}
              Settings

    %div{class:"col"}